---
title: "Release Notes - Apache RocketMQ - Version 5.1.0"
categories:
  - Release_Notes
tags:
  - Release_Notes
  - RocketMQ
  - Version
---

:::tip    Download the 5.1.0 release
- Source: [rocketmq-all-5.1.0-source-release.zip](https://dist.apache.org/repos/dist/dev/rocketmq/5.1.0/rocketmq-all-5.1.0-source-release.zip) [[PGP](https://dist.apache.org/repos/dist/dev/rocketmq/5.1.0/rocketmq-all-5.1.0-source-release.zip.asc)] [[SHA512](https://dist.apache.org/repos/dist/dev/rocketmq/5.1.0/rocketmq-all-5.1.0-source-release.zip.sha512)]
- Binary: [rocketmq-all-5.1.0-bin-release.zip](https://dist.apache.org/repos/dist/dev/rocketmq/5.1.0/rocketmq-all-5.1.0-bin-release.zip) [[PGP](https://dist.apache.org/repos/dist/dev/rocketmq/5.1.0/rocketmq-all-5.1.0-bin-release.zip.asc)] [[SHA512](https://dist.apache.org/repos/dist/dev/rocketmq/5.1.0/rocketmq-all-5.1.0-bin-release.zip.sha512)]
:::
<!--truncate-->

Below is a summary of the issues addressed in the 5.1.0 release of RocketMQ. For full documentation of the release, a guide to get started, please refer to <a href='/docs/quickStart/01quickstart/'>Quick Start</a>.

## Feature

* [RIP-46](https://github.com/apache/rocketmq/wiki/RIP-46-Observability-improvement-for-RocketMQ) Observability improvement for RocketMQ

* [RIP-48](https://github.com/apache/rocketmq/wiki/RIP-48-Enhance-server-side-offset-management-ability) Enhance server side offset management ability

* [RIP-49](https://github.com/apache/rocketmq/wiki/RIP-49-RocketMQ-remoting-module-improvement) RocketMQ remoting module improvement

* [RIP-50](https://github.com/apache/rocketmq/wiki/RIP-50-RocketMQ-Transaction-Message-Improvement) RocketMQ Transaction Message Improvement

* [RIP-51](https://github.com/apache/rocketmq/wiki/RIP-51-Pop-orderly-improvement) Pop orderly improvement

* [RIP-52](https://github.com/apache/rocketmq/wiki/RIP-52-Optimize-Building-ConsumeQueue) Optimize Building ConsumeQueue

* [RIP-55](https://github.com/apache/rocketmq/wiki/RIP-55-Support-remoting-protocol-in-rocketmq-proxy-module) Support remoting protocol in rocketmq proxy

* [RIP-56](https://github.com/apache/rocketmq/wiki/RIP-56-Replace-Logging-Module-with-Shaded-Logback) Replace Logging Module with Shaded Logback

* [RIP-57](https://github.com/apache/rocketmq/wiki/RIP-57-Tiered-storage-for-RocketMQ) Tiered storage for RocketMQ

## Improvement

* [[ISSUE #3799]](https://github.com/apache/rocketmq/issues/3799) [RIP-30] Support Compaction topic @ltamber, pr by @ltamber 
* [[ISSUE #3905]](https://github.com/apache/rocketmq/issues/3905) Support brokerName in request protocol @drpmma, pr by @drpmma 
* [[ISSUE #4330]](https://github.com/apache/rocketmq/issues/4330) [RIP-44] Support DLedger Controller @hzh0425, pr by @hzh0425 
* [[ISSUE #4487]](https://github.com/apache/rocketmq/issues/4487) The trackType is wrong when the consumer in broadcasting subscription @zhangjidi2016, pr by @zhangjidi2016 
* [[ISSUE #4658]](https://github.com/apache/rocketmq/issues/4658) remove redundant logic in checkTransactionState @zhiliatom, pr by @zhiliatom 
* [[ISSUE #4902]](https://github.com/apache/rocketmq/issues/4902) Change the type of loop index from long to int, and place Safepoint before the loop, will the effect be better than Thread.sleep(0)? @somePeopleFireAndWood, pr by @isysc1 
* [[ISSUE #5012]](https://github.com/apache/rocketmq/issues/5012) Support escaping transactional messages in slave-acting-master mode @caigy, pr by @caigy 
* [[ISSUE #5020]](https://github.com/apache/rocketmq/issues/5020) Add find_java_home function to tool script @Slideee, pr by @Slideee 
* [[ISSUE #5039]](https://github.com/apache/rocketmq/issues/5039) localHostName() get stuck when constructing the BrokerIdentity object @dongeforever, pr by @TheR1sing3un 
* [[ISSUE #5047]](https://github.com/apache/rocketmq/issues/5047) Modify MessageStoreConfig attribute maxTopicLength  default value @mxsm, pr by @mxsm 
* [[ISSUE #5051]](https://github.com/apache/rocketmq/issues/5051) Remove GroupCommitService#run synchronized code chunk @mxsm, pr by @mxsm 
* [[ISSUE #5069]](https://github.com/apache/rocketmq/issues/5069) polish the startup of proxy @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5089]](https://github.com/apache/rocketmq/issues/5089) Delegate plugin store configuration by broker @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5091]](https://github.com/apache/rocketmq/issues/5091) RocketMQ Store Module Improvement @lizhimins, pr by @lizhimins 
* [[ISSUE #5095]](https://github.com/apache/rocketmq/issues/5095) [RIP-49] RocketMQ Remoting Module Improvement @lizhimins, pr by @lizhimins 
* [[ISSUE #5097]](https://github.com/apache/rocketmq/issues/5097) Fix illegal reflective access @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5100]](https://github.com/apache/rocketmq/issues/5100) Recover the optimization of pull request #2885 @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5104]](https://github.com/apache/rocketmq/issues/5104) Clean PROPERTY_TIMER_DELAY_MS if not timer message @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #5106]](https://github.com/apache/rocketmq/issues/5106) Make ProxyStartupTest portable @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5108]](https://github.com/apache/rocketmq/issues/5108) Bump checkstyle-plugin to 3.2.0 @aaron-ai, pr by @aaron-ai 
* [[ISSUE #5116]](https://github.com/apache/rocketmq/issues/5116) Make PlainAccessControlFlowTest portable @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5119]](https://github.com/apache/rocketmq/issues/5119) Make remaining acl test cases hermetic and portable  @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5121]](https://github.com/apache/rocketmq/issues/5121) Automate release of RocketMQ versions to maven repository @lizhanhui, pr by @tsunghanjacktsai 
* [[ISSUE #5124]](https://github.com/apache/rocketmq/issues/5124) Signature of several public methods in 'org.apache.rocketmq.namesrv.NamesrvStartup' have been changed @caigy, pr by @caigy 
* [[ISSUE #5126]](https://github.com/apache/rocketmq/issues/5126) Make tests in ACL module pass on Windows @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5130]](https://github.com/apache/rocketmq/issues/5130) Use the latest rocketmq version as example in readme file. @ShannonDing, pr by @security00 
* [[ISSUE #5131]](https://github.com/apache/rocketmq/issues/5131) The producer instance should be shutdown after sending namespacing messages. @ShannonDing, pr by @totalo 
* [[ISSUE #5132]](https://github.com/apache/rocketmq/issues/5132) Use StandardCharsets.UTF_8  as default charset of getting bytes when sending example messages. @ShannonDing, pr by @renyansongno1 
* [[ISSUE #5133]](https://github.com/apache/rocketmq/issues/5133) Use StandardCharsets.UTF_8 as default charset in oneway producer demo. @ShannonDing, pr by @selectbook 
* [[ISSUE #5134]](https://github.com/apache/rocketmq/issues/5134) Remove useless pull consumer example. @ShannonDing, pr by @azhsmesos 
* [[ISSUE #5135]](https://github.com/apache/rocketmq/issues/5135) Format ERROR_MESSAGE string in commandUtil class. @ShannonDing, pr by @islongfei 
* [[ISSUE #5136]](https://github.com/apache/rocketmq/issues/5136) SubCommand seems not required to be declared again as a parameter type. @ShannonDing, pr by @RapperCL 
* [[ISSUE #5138]](https://github.com/apache/rocketmq/issues/5138) Do not throw exception in order producer demo. @ShannonDing, pr by @alexcao2018 
* [[ISSUE #5149]](https://github.com/apache/rocketmq/issues/5149) remove useless producer example file. @ShannonDing, pr by @liyijuan 
* [[ISSUE #5151]](https://github.com/apache/rocketmq/issues/5151) RebalanceImplï¼šReduce redundant for loops @RapperCL, pr by @RapperCL 
* [[ISSUE #5152]](https://github.com/apache/rocketmq/issues/5152)  Change the error log level to error @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #5157]](https://github.com/apache/rocketmq/issues/5157) Optimize  AutoSwitchHAConnection HandShake's data  protocol @mxsm, pr by @mxsm 
* [[ISSUE #5168]](https://github.com/apache/rocketmq/issues/5168) 5.0.0 release @odbozhou, pr by @odbozhou 
* [[ISSUE #5177]](https://github.com/apache/rocketmq/issues/5177) NPE in AclUtils#combineBytes @zhiliatom, pr by @zhiliatom 
* [[ISSUE #5179]](https://github.com/apache/rocketmq/issues/5179) Math.abs() method call redundant, judgment and repeated assignment @RapperCL, pr by @RapperCL 
* [[ISSUE #5180]](https://github.com/apache/rocketmq/issues/5180) Support domain resolution to obtain the nameserver address @lizhimins, pr by @lizhimins 
* [[ISSUE #5195]](https://github.com/apache/rocketmq/issues/5195) receive INVALID_ARGUMENT when there is no topicsList in publishing of settings @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5198]](https://github.com/apache/rocketmq/issues/5198) Fix NPE in ClusterList SubCommand @lizhimins, pr by @lizhimins 
* [[ISSUE #5201]](https://github.com/apache/rocketmq/issues/5201) [Infra Enhancement Project] Use pull request for Bazel Pipeline @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5227]](https://github.com/apache/rocketmq/issues/5227) Add a new notification configuration to make dev list cleaner @zhouxinyu, pr by @zhouxinyu 
* [[ISSUE #5231]](https://github.com/apache/rocketmq/issues/5231) Optimize some reput message code @echooymxq, pr by @echooymxq 
* [[ISSUE #5236]](https://github.com/apache/rocketmq/issues/5236) There is a problem in the load method of the ServiceProvider loading class @RapperCL, pr by @RapperCL 
* [[ISSUE #5254]](https://github.com/apache/rocketmq/issues/5254) ServiceProvider Stream Closure Optimization @RapperCL, pr by @RapperCL 
* [[ISSUE #5265]](https://github.com/apache/rocketmq/issues/5265) Nested logic may cause more if check @zhiliatom, pr by @zhiliatom 
* [[ISSUE #5267]](https://github.com/apache/rocketmq/issues/5267) Start Broker failed to load the configuration file broker.conf @macdreaming, pr by @xdkxlk 
* [[ISSUE #5270]](https://github.com/apache/rocketmq/issues/5270) mqshudown will produce \"Illegal number\" when there is no process to shutdown @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5272]](https://github.com/apache/rocketmq/issues/5272) NPE raised when CI runs tests @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5274]](https://github.com/apache/rocketmq/issues/5274) AutoSwitchRoleIntegrationTest is still flaky @lizhanhui, pr by @RongtongJin 
* [[ISSUE #5276]](https://github.com/apache/rocketmq/issues/5276) AddWritePermSubCommandTest uses fixed port that may not be available @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5278]](https://github.com/apache/rocketmq/issues/5278) Modify MessageStoreConfig#isTransientStorePoolEnable method comment doc @mxsm, pr by @mxsm 
* [[ISSUE #5281]](https://github.com/apache/rocketmq/issues/5281) Optimize the rocketmq benchmark @zhangjidi2016, pr by @zhangjidi2016 
* [[ISSUE #5285]](https://github.com/apache/rocketmq/issues/5285) Add vm arguments to set useTLS for all server. @echooymxq, pr by @echooymxq 
* [[ISSUE #5288]](https://github.com/apache/rocketmq/issues/5288) Implementation of AccessValidator cannot be replaced with SPI mechanism @caigy, pr by @caigy 
* [[ISSUE #5291]](https://github.com/apache/rocketmq/issues/5291) Optimise the HandshakeHandler  @echooymxq, pr by @echooymxq 
* [[ISSUE #5292]](https://github.com/apache/rocketmq/issues/5292) [RIP-48] Support reset offset in server side to improve the success rate @lizhimins, pr by @lizhimins 
* [[ISSUE #5294]](https://github.com/apache/rocketmq/issues/5294) ClassLoad path optimization @RapperCL, pr by @RapperCL 
* [[ISSUE #5303]](https://github.com/apache/rocketmq/issues/5303) Authentication cannot be performed for sending batch messages @zhangjidi2016, pr by @zhangjidi2016 
* [[ISSUE #5307]](https://github.com/apache/rocketmq/issues/5307) Whether the if statement is redundant? @nowinkeyy, pr by @nowinkeyy 
* [[ISSUE #5309]](https://github.com/apache/rocketmq/issues/5309) NormalMsgDelayIT is flaky @lizhanhui, pr by @ShadowySpirits 
* [[ISSUE #5310]](https://github.com/apache/rocketmq/issues/5310) Admin tool queryMessage signature check failed @sinrimin, pr by @zhangjidi2016 
* [[ISSUE #5311]](https://github.com/apache/rocketmq/issues/5311) Expose an API to facilitate graceful shutdown of proxy @lizhanhui, pr by @drpmma 
* [[ISSUE #5313]](https://github.com/apache/rocketmq/issues/5313) Optimize proxy module methods and interfaces @drpmma, pr by @drpmma 
* [[ISSUE #5315]](https://github.com/apache/rocketmq/issues/5315) DefaultLitePullConsumerImpl's persistConsumeOffset method should not be called by MQClientInstance if DefaultLitePullConsumerImpl disable autoCommit @lizhiboo, pr by by @lizhiboo 
* [[ISSUE #5322]](https://github.com/apache/rocketmq/issues/5322) improving SDK topic route availability, when namsrv  restart @fuyou001, pr by @fuyou001 
* [[ISSUE #5324]](https://github.com/apache/rocketmq/issues/5324) Replace deprecated class PosixParser with DefaultParser for CLI @mxsm, pr by @mxsm 
* [[ISSUE #5331]](https://github.com/apache/rocketmq/issues/5331) Resolve the unstable unit tests @echooymxq, pr by @echooymxq 
* [[ISSUE #5332]](https://github.com/apache/rocketmq/issues/5332) Remove DefaultMessageStore's private field printTimes that is never used @mxsm, pr by @mxsm 
* [[ISSUE #5339]](https://github.com/apache/rocketmq/issues/5339) Fix BrokerContainer document error @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5344]](https://github.com/apache/rocketmq/issues/5344) Disable some test cases on Windows to make the CI pipeline pass @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5348]](https://github.com/apache/rocketmq/issues/5348) [RIP-48] Support server-side offset management in broadcast consumption mode @lizhimins, pr by @lizhimins 
* [[ISSUE #5354]](https://github.com/apache/rocketmq/issues/5354) [RIP-46] [Task 2] Implement metrics collector and exporter @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5354]](https://github.com/apache/rocketmq/issues/5354) [RIP-46] [Task 2] Implement metrics collector and exporter @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5356]](https://github.com/apache/rocketmq/issues/5356) [RIP 48] Introduces the concept of ready and inflight messages @lizhimins, pr by @lizhimins 
* [[ISSUE #5364]](https://github.com/apache/rocketmq/issues/5364) [RIP 51] Task1: Support changeInvisibleTime for pop orderly. @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5365]](https://github.com/apache/rocketmq/issues/5365) [RIP 51] Task2: Add notification mechanism for pop orderly. @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5370]](https://github.com/apache/rocketmq/issues/5370) Upgrade commons-cli:commons-cli to 1.5.0 @mxsm, pr by @mxsm 
* [[ISSUE #5372]](https://github.com/apache/rocketmq/issues/5372) is this necessary to call fileWatchService's shutdown method twice? @thezp, pr by @thezp 
* [[ISSUE #5373]](https://github.com/apache/rocketmq/issues/5373) NameSrv does not output the bindaddress when starting @xiaoyifang, pr by @xiaoyifang 
* [[ISSUE #5381]](https://github.com/apache/rocketmq/issues/5381) Optimize Python scripts  comments @pipi18, pr by @pipi18 
* [[ISSUE #5386]](https://github.com/apache/rocketmq/issues/5386) [ISSUE #5386][RIP-50]RocketMQ Transaction Message Improvement Of Batch OP Message @Focus-rth, pr by @Focus-rth 
* [[ISSUE #5390]](https://github.com/apache/rocketmq/issues/5390) There are to many useless log in pop.log @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5392]](https://github.com/apache/rocketmq/issues/5392) [RIP-55] Support remoting protocol in rocketmq proxy module @drpmma, pr by @drpmma 
* [[ISSUE #5393]](https://github.com/apache/rocketmq/issues/5393) TransactionMessageIT can not pass CI @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5402]](https://github.com/apache/rocketmq/issues/5402) The retry messages should not be decompressed in PopReviveService @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5404]](https://github.com/apache/rocketmq/issues/5404) Variable of LatencyFaultToleranceImpl#whichItemWorst does not present the worst item @jasonjavaYY, pr by  @jasonjavaYY 
* [[ISSUE #5408]](https://github.com/apache/rocketmq/issues/5408) The offset of PopReviveGroup unable to move forward when there are more ack than ck @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5413]](https://github.com/apache/rocketmq/issues/5413) Modify AutoSwitchHAClient currentReceivedEpoch attribute long type to int @mxsm, pr by @mxsm 
* [[ISSUE #5415]](https://github.com/apache/rocketmq/issues/5415) TransactionalMessageBridge.writeOp Duplicate recording of metrics data  @RapperCL, pr by @RapperCL 
* [[ISSUE #5426]](https://github.com/apache/rocketmq/issues/5426) mqadmin updateTopic CLI result print format problem @mxsm, pr by @mxsm 
* [[ISSUE #5430]](https://github.com/apache/rocketmq/issues/5430) [code quality]redundent null check  in HookUtils  @xiaoyifang, pr by @fndejan 
* [[ISSUE #5437]](https://github.com/apache/rocketmq/issues/5437) Add push consumer execute hook logs. @humkum, pr by @humkum 
* [[ISSUE #5443]](https://github.com/apache/rocketmq/issues/5443) Rpc hook npe in rocketmq test @lizhimins, pr by @RongtongJin 
* [[ISSUE #5446]](https://github.com/apache/rocketmq/issues/5446) Modify ScheduleMessageService's log name RocketmqStore to RocketmqBroker @mxsm, pr by @mxsm 
* [[ISSUE #5448]](https://github.com/apache/rocketmq/issues/5448) [RIP-46] [Task 3] Develop metrics for broker and proxy @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5448]](https://github.com/apache/rocketmq/issues/5448) [RIP-46] [Task 3] Develop metrics for broker and proxy @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5449]](https://github.com/apache/rocketmq/issues/5449) implement broker stats metrics and request metrics @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5449]](https://github.com/apache/rocketmq/issues/5449) implement broker stats metrics and request metrics @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5452]](https://github.com/apache/rocketmq/issues/5452) Label '@maven//:com_google_guava_guava' is duplicated in the 'deps' attribute of rule 'tests' @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5453]](https://github.com/apache/rocketmq/issues/5453) Combine parseDelayLevel error log information @mxsm, pr by @mxsm 
* [[ISSUE #5458]](https://github.com/apache/rocketmq/issues/5458) Enforce checks on Windows and MacOS @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5471]](https://github.com/apache/rocketmq/issues/5471) AutoSwitchRoleIntegrationTest still experience random failures @lizhanhui, pr by @RongtongJin 
* [[ISSUE #5481]](https://github.com/apache/rocketmq/issues/5481) Decrease the repeated consumption probability of expired message @aaron-ai, pr by @aaron-ai 
* [[ISSUE #5482]](https://github.com/apache/rocketmq/issues/5482) Remove ClientRequestProcessor#getRouteInfoByTopic method invalid logic judgment @mxsm, pr by @mxsm 
* [[ISSUE #5484]](https://github.com/apache/rocketmq/issues/5484) [RIP-56] Replace Logging Module with Shaded Logback @aaron-ai, pr by @aaron-ai 
* [[ISSUE #5484]](https://github.com/apache/rocketmq/issues/5484) [RIP-56] Replace Logging Module with Shaded Logback @aaron-ai, pr by @aaron-ai 
* [[ISSUE #5490]](https://github.com/apache/rocketmq/issues/5490) Fix name server startup tip typo @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5499]](https://github.com/apache/rocketmq/issues/5499) Remove BrokerHousekeepingService unused static attribute log @mxsm, pr by @mxsm 
* [[ISSUE #5506]](https://github.com/apache/rocketmq/issues/5506) Question : How do I create TOPIC of type DELAY? @TO-21, pr by @drpmma 
* [[ISSUE #5507]](https://github.com/apache/rocketmq/issues/5507) Improve the speed of AttributeParser#parseToMap parsing @mxsm, pr by @mxsm 
* [[ISSUE #5509]](https://github.com/apache/rocketmq/issues/5509) Fix flaky test case  in BrokerOuterAPITest @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5511]](https://github.com/apache/rocketmq/issues/5511) Fix Proxy start up throw  NullPointerException @mxsm, pr by @mxsm 
* [[ISSUE #5512]](https://github.com/apache/rocketmq/issues/5512) Skip the unnecessary network interface @echooymxq, pr by @echooymxq 
* [[ISSUE #5526]](https://github.com/apache/rocketmq/issues/5526) Fix : Topic attribute should not be replace by null. @humkum, pr by @humkum 
* [[ISSUE #5531]](https://github.com/apache/rocketmq/issues/5531) Logging isolation of broker container is hacky @aaron-ai, pr by @aaron-ai 
* [[ISSUE #5532]](https://github.com/apache/rocketmq/issues/5532) useless setting socksProxy in DefaultMQAdminExt @supercym, pr by @supercym 
* [[ISSUE #5534]](https://github.com/apache/rocketmq/issues/5534) BatchConsumeQueueTest timeout too eager @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5542]](https://github.com/apache/rocketmq/issues/5542) ConsumerProcessor lockBatchMQ future allOf data race issue @drpmma, pr by @drpmma 
* [[ISSUE #5544]](https://github.com/apache/rocketmq/issues/5544) Replace DLedgerServer#getdLedgerLeaderElector deprecated method @mxsm, pr by @mxsm 
* [[ISSUE #5549]](https://github.com/apache/rocketmq/issues/5549) It is inappropriate that the headers of the controller are under namesrv directory  @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5560]](https://github.com/apache/rocketmq/issues/5560) Method parameters are passed in the wrong order @zhangjidi2016, pr by @zhangjidi2016 
* [[ISSUE #5562]](https://github.com/apache/rocketmq/issues/5562) Reset consumeOffset execution logic In a catch blockï¼Œand is not executed under normal circumstances @zhangjidi2016, pr by @zhangjidi2016 
* [[ISSUE #5566]](https://github.com/apache/rocketmq/issues/5566) AutoSwitchHATest is a flaky test @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5568]](https://github.com/apache/rocketmq/issues/5568) Support long length group and topic for pop mode consumption @lizhimins, pr by @lizhimins 
* [[ISSUE #5569]](https://github.com/apache/rocketmq/issues/5569) Support broker priority election for controller mode  @hzh0425, pr by @hzh0425 
* [[ISSUE #5572]](https://github.com/apache/rocketmq/issues/5572) Remove useless introduction in Controller / BrokerInfo @hzh0425, pr by @hzh0425 
* [[ISSUE #5576]](https://github.com/apache/rocketmq/issues/5576) Optimize UtilAll#getPid method @mxsm, pr by @mxsm 
* [[ISSUE #5577]](https://github.com/apache/rocketmq/issues/5577) Unnecessary request parsing when executing sendMessageHook @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5583]](https://github.com/apache/rocketmq/issues/5583) FlakyTest: ReceiptHandleProcessorTest @lizhanhui, pr by @xdkxlk 
* [[ISSUE #5589]](https://github.com/apache/rocketmq/issues/5589) [OPTIMIZATION] Record subscriptions from request @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5593]](https://github.com/apache/rocketmq/issues/5593) Enable AbortProcessException to interrupt RPCHook @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5595]](https://github.com/apache/rocketmq/issues/5595) Add brokerConfig which will not validate system topic when update topic @drpmma, pr by @drpmma 
* [[ISSUE #5602]](https://github.com/apache/rocketmq/issues/5602) Remove useless log attribute from BrokerConfig @mxsm, pr by @mxsm 
* [[ISSUE #5605]](https://github.com/apache/rocketmq/issues/5605) [OPTIMIZATION] Introduce tag estimation for lag calculation @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5616]](https://github.com/apache/rocketmq/issues/5616) Fix POP checkpoint record accessor typo @lizhanhui, pr by @francisoliverlee 
* [[ISSUE #5617]](https://github.com/apache/rocketmq/issues/5617) Fix Bazel build warning @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5621]](https://github.com/apache/rocketmq/issues/5621) Enable all store test cases @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5623]](https://github.com/apache/rocketmq/issues/5623) DLedger can't load org.sfl4j.LoggerFactory when use mqnamesrv start @mxsm, pr by @mxsm 
* [[ISSUE #5626]](https://github.com/apache/rocketmq/issues/5626) Optimize DefaultMessageStore#getEarliestMessageTime @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5631]](https://github.com/apache/rocketmq/issues/5631) ReplicasInfoManager#registerBroker not check master is alive @mxsm, pr by @mxsm 
* [[ISSUE #5634]](https://github.com/apache/rocketmq/issues/5634) Persist consumer offset should not be disabled when auto-commit is turned off @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5637]](https://github.com/apache/rocketmq/issues/5637) Try to make AutoSwitchRoleIntegrationTest more stable @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5639]](https://github.com/apache/rocketmq/issues/5639) commitSync method is ambiguous in lite pull consumer @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5644]](https://github.com/apache/rocketmq/issues/5644) Static topic ITs can not pass @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5644]](https://github.com/apache/rocketmq/issues/5644) Static topic ITs can not pass @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5647]](https://github.com/apache/rocketmq/issues/5647) Polish PullMessageService some methods parameter name @mxsm, pr by @mxsm 
* [[ISSUE #5654]](https://github.com/apache/rocketmq/issues/5654) Support calculate inflight messages for pop @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5659]](https://github.com/apache/rocketmq/issues/5659) Redundant error log output @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #5660]](https://github.com/apache/rocketmq/issues/5660) Optimize LagCalculationIT @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5668]](https://github.com/apache/rocketmq/issues/5668) Polish AutoSwitchHAClient and AutoSwitchHAConnection Comments @mxsm, pr by @mxsm 
* [[ISSUE #5673]](https://github.com/apache/rocketmq/issues/5673) Add the windows platform script as the controller quick start @mxsm, pr by @mxsm 
* [[ISSUE #5676]](https://github.com/apache/rocketmq/issues/5676) Support for dynamic Logging in proxy and controller modules @mxsm, pr by @mxsm 
* [[ISSUE #5686]](https://github.com/apache/rocketmq/issues/5686) Polish ReplicasInfoManager comment and static log attribute @mxsm, pr by @mxsm 
* [[ISSUE #5688]](https://github.com/apache/rocketmq/issues/5688) Add log xml config file into distribution config directory @mxsm, pr by @mxsm 
* [[ISSUE #5692]](https://github.com/apache/rocketmq/issues/5692) Polish Controller headers toString @mxsm, pr by @mxsm 
* [[ISSUE #5695]](https://github.com/apache/rocketmq/issues/5695) Optimize broker startup @lizhimins, pr by @lizhimins 
* [[ISSUE #5699]](https://github.com/apache/rocketmq/issues/5699) [code issue]duplicate code of UtilAll.isBlank method @xiaoyifang, pr by @xiaoyifang 
* [[ISSUE #5701]](https://github.com/apache/rocketmq/issues/5701) [RIP-46] Optimize lag calculation @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5704]](https://github.com/apache/rocketmq/issues/5704) Optimize nameserver start when enableControllerInNamesrv of NamesrvConfig is false @mxsm, pr by @mxsm 
* [[ISSUE #5708]](https://github.com/apache/rocketmq/issues/5708) Fix NamesrvStartup can't print config when use -p command @mxsm, pr by @mxsm 
* [[ISSUE #5724]](https://github.com/apache/rocketmq/issues/5724) Add proxy module log xml to distribution directory @mxsm, pr by @mxsm 
* [[ISSUE #5726]](https://github.com/apache/rocketmq/issues/5726) there are some issue in the above verifyDelay @xiaoyifang, pr by @xiaoyifang 
* [[ISSUE #5740]](https://github.com/apache/rocketmq/issues/5740) [code discussion] Should the method UtilAll.getIP() return a localhost ? @RagingSpud, pr by @RagingSpud 
* [[ISSUE #5741]](https://github.com/apache/rocketmq/issues/5741)  Specifiy logback configuration file in cmd command line  for windows platform @mxsm, pr by @mxsm 
* [[ISSUE #5754]](https://github.com/apache/rocketmq/issues/5754) [RIP-57] Tiered storage for RocketMQ @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5763]](https://github.com/apache/rocketmq/issues/5763) add the default subscribe * tag method @lybuestc, pr by @lybuestc 
* [[ISSUE #5766]](https://github.com/apache/rocketmq/issues/5766) msg may be null @xiaoyifang, pr by @xiaoyifang 
* [[ISSUE #5776]](https://github.com/apache/rocketmq/issues/5776) [code optimization] Repeated empty string check for proxy module. @yx9o, pr by @yx9o 
* [[ISSUE #5778]](https://github.com/apache/rocketmq/issues/5778) compensateSubscribeData of retry topic is written to topic @yuz10, pr by @yuz10 
* [[ISSUE #5780]](https://github.com/apache/rocketmq/issues/5780) Replace DLedgerServer's deprecated getdLedgerLeaderElector method with  getDLedgerLeaderElector in  BrokerController @mxsm, pr by @mxsm 
* [[ISSUE #5783]](https://github.com/apache/rocketmq/issues/5783) Fix proxy module compilation warning @lizhanhui, pr by @lizhanhui 
* [[ISSUE #5802]](https://github.com/apache/rocketmq/issues/5802) Optimize HashMap and HashSet invoke resize method @mxsm, pr by @mxsm 
* [[ISSUE #5804]](https://github.com/apache/rocketmq/issues/5804) Optimize BrokerStatsManager#incTopicPutLatency create statsKey @mxsm, pr by @mxsm 
* [[ISSUE #5809]](https://github.com/apache/rocketmq/issues/5809) [Optimize]Replace synchronized with ReentrantReadWriteLock in AutoSwitchHAService  @mxsm, pr by @mxsm 
* [[ISSUE #5816]](https://github.com/apache/rocketmq/issues/5816) No response is returned when no parameter is configured for the brokerStatus command. @frinda, pr by @frinda 
* [[ISSUE #5819]](https://github.com/apache/rocketmq/issues/5819) PullRequestHoldServiceTest is flaky @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5821]](https://github.com/apache/rocketmq/issues/5821) There unnecessary Chinese in English document. @yx9o, pr by @yx9o 
* [[ISSUE #5823]](https://github.com/apache/rocketmq/issues/5823) Add delete topic in message store interface @lizhimins, pr by @lizhimins 
* [[ISSUE #5823]](https://github.com/apache/rocketmq/issues/5823) Add delete topic in message store interface @lizhimins, pr by @lizhimins 
* [[ISSUE #5829]](https://github.com/apache/rocketmq/issues/5829) codecov url in README is incorrect @Oliverwqcwrw, pr by @mahaitao617 
* [[ISSUE #5832]](https://github.com/apache/rocketmq/issues/5832) TodayConsumeCount is increasing rapidly without sending message @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #5837]](https://github.com/apache/rocketmq/issues/5837) Deprecate MessageStore#checkInDiskByConsumeOffset @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5847]](https://github.com/apache/rocketmq/issues/5847) Fix wake up in NotificationProcessor @drpmma, pr by @drpmma 
* [[ISSUE #5847]](https://github.com/apache/rocketmq/issues/5847) Fix wake up in NotificationProcessor @drpmma, pr by @drpmma 
* [[ISSUE #5847]](https://github.com/apache/rocketmq/issues/5847) Fix wake up in NotificationProcessor @drpmma, pr by @drpmma 
* [[ISSUE #5852]](https://github.com/apache/rocketmq/issues/5852) The AclWatchService still start when enable proxy and  enableAcl is false  @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #5859]](https://github.com/apache/rocketmq/issues/5859) Optimize String#format in DefaultMQProducerImpl  @mxsm, pr by @mxsm 
* [[ISSUE #5860]](https://github.com/apache/rocketmq/issues/5860) set the value of order when create or update topic @Slideee, pr by @Slideee 
* [[ISSUE #5862]](https://github.com/apache/rocketmq/issues/5862) Stop send heartbeat to broker when ProducerGroup is offline in proxy @xdkxlk, pr by @xdkxlk 
* [[ISSUE #5863]](https://github.com/apache/rocketmq/issues/5863) [RIP-57] Implement tiered storage metadata @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5869]](https://github.com/apache/rocketmq/issues/5869) Remove unnecessary verification logic in consumerSendMsgBack method @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5872]](https://github.com/apache/rocketmq/issues/5872) Ignore testChangeRoleManyTimes in AutoSwitchHATest util it is stable @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5874]](https://github.com/apache/rocketmq/issues/5874) [RIP-57] implement file queue for tiered storage @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5876]](https://github.com/apache/rocketmq/issues/5876) Fix resource leak in DefaultLitePullConsumerTest @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5880]](https://github.com/apache/rocketmq/issues/5880) Remove useless attribute TOPIC_KEY_SPLITTER in MessageClientIDSetter class @mxsm, pr by @mxsm 
* [[ISSUE #5884]](https://github.com/apache/rocketmq/issues/5884) [RIP-52] [Task 1] Concurrent check CommitLog messages @nowinkeyy, pr by @nowinkeyy 
* [[ISSUE #5885]](https://github.com/apache/rocketmq/issues/5885) Fix FAQurl's class FAQ url incorrect @mxsm, pr by @mxsm 
* [[ISSUE #5891]](https://github.com/apache/rocketmq/issues/5891) [RIP-57] Implement MessageStore interface for tiered store @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5896]](https://github.com/apache/rocketmq/issues/5896) [Task] add pop consumer example @mahaitao617, pr by @mahaitao617 
* [[ISSUE #5897]](https://github.com/apache/rocketmq/issues/5897) The info is ambiguous when broker is already added to broker container @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #5902]](https://github.com/apache/rocketmq/issues/5902) Fix logback configuration warning @aaron-ai, pr by @aaron-ai 
* [[ISSUE #5905]](https://github.com/apache/rocketmq/issues/5905) Config files lost after vm restart @yuz10, pr by @yuz10 
* [[ISSUE #5907]](https://github.com/apache/rocketmq/issues/5907) [Optimize]try catch to prevent ConcurrentHashMapUtils init failed @mxsm, pr by @mxsm 
* [[ISSUE #5913]](https://github.com/apache/rocketmq/issues/5913) GetSyncStateSetSubCommand can also print that the broker is not in syncStateSet @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5916]](https://github.com/apache/rocketmq/issues/5916) availableNamesrvAddrMap in remotingClient is not update when the number of nameservers decreases @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5921]](https://github.com/apache/rocketmq/issues/5921) Support domain resolution to obtain the controller address @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5923]](https://github.com/apache/rocketmq/issues/5923) [RIP-57] Add example tiered storage backend service provider @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5924]](https://github.com/apache/rocketmq/issues/5924) Optimize UtilAll#sleep method @mxsm, pr by @mxsm 
* [[ISSUE #5929]](https://github.com/apache/rocketmq/issues/5929)  The broker send heartbeat to controller frequently causing thread blocking when the network partition @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5939]](https://github.com/apache/rocketmq/issues/5939) Adjust the MQClientInstance#sendHeartbeatToAllBroker catch code block log print level from info to warn @mxsm, pr by @mxsm 
* [[ISSUE #5941]](https://github.com/apache/rocketmq/issues/5941) An error occurred when starting rocketmq-proxy: create system broadcast topic DefaultHeartBeatSyncerTopic failed on cluster r5-broker @zzjcool, pr by @drpmma 
* [[ISSUE #5941]](https://github.com/apache/rocketmq/issues/5941) An error occurred when starting rocketmq-proxy: create system broadcast topic DefaultHeartBeatSyncerTopic failed on cluster r5-broker @zzjcool, pr by @zzjcool 
* [[ISSUE #5942]](https://github.com/apache/rocketmq/issues/5942) Produce count contains the quantity of the system topic @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #5947]](https://github.com/apache/rocketmq/issues/5947) Optimize RouteInfoManager#pickupTopicRouteData create BrokerData code @mxsm, pr by @mxsm 
* [[ISSUE #5949]](https://github.com/apache/rocketmq/issues/5949) Remove TopicQueueMappingInfo class duplicate licenses @mxsm, pr by @mxsm 
* [[ISSUE #5953]](https://github.com/apache/rocketmq/issues/5953) [RIP-46] calculate retry message throughput in pop consumption mode @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5961]](https://github.com/apache/rocketmq/issues/5961) Simplify `getPID` in `MixAll` @xdshent, pr by @xdshent 
* [[ISSUE #5963]](https://github.com/apache/rocketmq/issues/5963) Remove the useless exception class: MQRedirectException @socutes, pr by @socutes 
* [[ISSUE #5969]](https://github.com/apache/rocketmq/issues/5969) Is there DeleteUnusedStats duplicate? @zhiliatom, pr by @zhiliatom 
* [[ISSUE #5971]](https://github.com/apache/rocketmq/issues/5971) Make the internal logs related to the dledger in the controller print to a file separately @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5975]](https://github.com/apache/rocketmq/issues/5975) Remove more system topic for getUserTopicConfig api. @dingshuangxi888, pr by @dingshuangxi888 
* [[ISSUE #5979]](https://github.com/apache/rocketmq/issues/5979) Fix FAQ url incorrect in FAQUrl class @mxsm, pr by @mxsm 
* [[ISSUE #5983]](https://github.com/apache/rocketmq/issues/5983) Make consumer support flow control code better  @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5986]](https://github.com/apache/rocketmq/issues/5986) optimize the test class code @hardyfish, pr by @hardyfish 
* [[ISSUE #5994]](https://github.com/apache/rocketmq/issues/5994) [RIP-46] Add pop and timer metrics @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5996]](https://github.com/apache/rocketmq/issues/5996) optimize the RemotingSerializable class code @hardyfish, pr by @hardyfish 
* [[ISSUE #5999]](https://github.com/apache/rocketmq/issues/5999) Fix the TopicQueueMappingUtils comment typo @mxsm, pr by @mxsm 
* [[ISSUE #6007]](https://github.com/apache/rocketmq/issues/6007) Useless if judgment in DefaultMQProducerImpl @coderbruis, pr by @coderbruis 
* [[ISSUE #6010]](https://github.com/apache/rocketmq/issues/6010) Optimize `NettyRemotingClient#updateNameServerAddressList` @xdshent, pr by @xdshent 
* [[ISSUE #6012]](https://github.com/apache/rocketmq/issues/6012) Pop consumer with big queue num will case out of bounds problem  @xdkxlk, pr by @xdkxlk 
* [[ISSUE #6019]](https://github.com/apache/rocketmq/issues/6019) PlainAccessResource parse method  can be simplified @hardyfish, pr by @hardyfish 
* [[ISSUE #6021]](https://github.com/apache/rocketmq/issues/6021) Fix nameserver logback configuration warning @aaron-ai, pr by @aaron-ai 
* [[ISSUE #6030]](https://github.com/apache/rocketmq/issues/6030) Prepare to release Apache RocketMQ 5.1.0 @drpmma, pr by @drpmma 
* [[ISSUE #6030]](https://github.com/apache/rocketmq/issues/6030) Prepare to release Apache RocketMQ 5.1.0 @drpmma, pr by @drpmma 
* [[ISSUE #6033]](https://github.com/apache/rocketmq/issues/6033) modify TraceContext toString method @hardyfish, pr by @hardyfish 
* [[ISSUE #6043]](https://github.com/apache/rocketmq/issues/6043) optimize the DefaultLitePullConsumerImpl isSetEqual method code @hardyfish, pr by @hardyfish 
* [[ISSUE #6047]](https://github.com/apache/rocketmq/issues/6047) Support TLS permissive mode for 5.x client @xdkxlk, pr by @xdkxlk 
* [[ISSUE #6051]](https://github.com/apache/rocketmq/issues/6051) remove redundant variable definitions @hardyfish, pr by @hardyfish 
* [[ISSUE #6055]](https://github.com/apache/rocketmq/issues/6055) replace loop with `putAll` and typo fix in `RegisterBrokerBody` @xdshent, pr by @xdshent 
* [[ISSUE #6073]](https://github.com/apache/rocketmq/issues/6073) remove static reference @hardyfish, pr by @hardyfish 
* [[ISSUE #6077]](https://github.com/apache/rocketmq/issues/6077) fix issues that messageStore could be null @hardyfish, pr by @hardyfish 
* [[ISSUE #6080]](https://github.com/apache/rocketmq/issues/6080) delete MQAdminImpl meaningless null check @hardyfish, pr by @hardyfish 
* [[ISSUE #6082]](https://github.com/apache/rocketmq/issues/6082) simplify MQClientAPIImpl processSendResponse code @hardyfish, pr by @hardyfish 


## Bug

* [[ISSUE #5162]](https://github.com/apache/rocketmq/issues/5162) There may be a bug in DefaultMessageStore#getMessage @Knowden, pr by @Knowden 
* [[ISSUE #5214]](https://github.com/apache/rocketmq/issues/5214) Consumer offset of LMQ's topics were updated failed. @ShannonDing, pr by @DongyuanPan 
* [[ISSUE #5238]](https://github.com/apache/rocketmq/issues/5238) The slave node statistics are incorrect when using BCQ @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5305]](https://github.com/apache/rocketmq/issues/5305) fix proxy TopicRouteService cache bug @fuyou001, pr by @fuyou001 
* [[ISSUE #5374]](https://github.com/apache/rocketmq/issues/5374) The broker unRegister cause the new registered broker removed. @echooymxq, pr by @echooymxq 
* [[ISSUE #5424]](https://github.com/apache/rocketmq/issues/5424) Null exception and array overflow bug exist in getHalfMsg method @RapperCL, pr by @RapperCL 
* [[ISSUE #5493]](https://github.com/apache/rocketmq/issues/5493) [Static Topic] Fix : NPE caused by logicQueueMappingItem out of date @humkum, pr by @humkum 
* [[ISSUE #5536]](https://github.com/apache/rocketmq/issues/5536) [Static Topic] Is it necessary to consider the compatible while upgrade namesrv and broker?  @humkum, pr by @humkum 
* [[ISSUE #5651]](https://github.com/apache/rocketmq/issues/5651) Unable to send messages normally due to HA disconnection @RongtongJin, pr by @mxsm 
* [[ISSUE #5712]](https://github.com/apache/rocketmq/issues/5712) Invalid of heartbeat detection after controller switch @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5714]](https://github.com/apache/rocketmq/issues/5714) System busy exception when transientStorePoolEnable=true in controller mode @riki-wang, pr by @RongtongJin 
* [[ISSUE #5812]](https://github.com/apache/rocketmq/issues/5812) Static topic cannot be consumed normally @RongtongJin, pr by @RongtongJin 
* [[ISSUE #5813]](https://github.com/apache/rocketmq/issues/5813) Pop topic queue lock not unlock @lizhimins, pr by @ShadowySpirits 
* [[ISSUE #5830]](https://github.com/apache/rocketmq/issues/5830) Bug in GetMessageResult#getMessageCount @ShadowySpirits, pr by @ShadowySpirits 
* [[ISSUE #5839]](https://github.com/apache/rocketmq/issues/5839) Code.ILLEGAL_POLLING_TIME is not compatible with gRPC Client <=5.0.2 @aaron-ai, pr by @aaron-ai 
* [[ISSUE #5900]](https://github.com/apache/rocketmq/issues/5900) A shutdown failure gives the illusion that the broker was successfully added to the container @Oliverwqcwrw, pr by @Oliverwqcwrw 
* [[ISSUE #6045]](https://github.com/apache/rocketmq/issues/6045) The endoffset of entry obtained by getBrokerEpoch is incorrect @RongtongJin, pr by @RongtongJin 


## New Contributors
* @renyansongno1 made their first contribution in https://github.com/apache/rocketmq/pull/5140
* @azhsmesos made their first contribution in https://github.com/apache/rocketmq/pull/5139
* @selectbook made their first contribution in https://github.com/apache/rocketmq/pull/5145
* @islongfei made their first contribution in https://github.com/apache/rocketmq/pull/5144
* @RapperCL made their first contribution in https://github.com/apache/rocketmq/pull/5143
* @security00 made their first contribution in https://github.com/apache/rocketmq/pull/5146
* @liyijuan made their first contribution in https://github.com/apache/rocketmq/pull/5155
* @alexcao2018 made their first contribution in https://github.com/apache/rocketmq/pull/5185
* @isysc1 made their first contribution in https://github.com/apache/rocketmq/pull/4903
* @nowinkeyy made their first contribution in https://github.com/apache/rocketmq/pull/5193
* @DongyuanPan made their first contribution in https://github.com/apache/rocketmq/pull/5208
* @Knowden made their first contribution in https://github.com/apache/rocketmq/pull/5171
* @Slideee made their first contribution in https://github.com/apache/rocketmq/pull/5024
* @byj520-lang made their first contribution in https://github.com/apache/rocketmq/pull/5258
* @vvsd made their first contribution in https://github.com/apache/rocketmq/pull/5264
* @SSS-K made their first contribution in https://github.com/apache/rocketmq/pull/5377
* @xiaoyifang made their first contribution in https://github.com/apache/rocketmq/pull/5369
* @Focus-rth made their first contribution in https://github.com/apache/rocketmq/pull/5386
* @fndejan made their first contribution in https://github.com/apache/rocketmq/pull/5467
* @jasonjavaYY made their first contribution in https://github.com/apache/rocketmq/pull/5436
* @GOODBOY008 made their first contribution in https://github.com/apache/rocketmq/pull/5253
* @asia-zengtao made their first contribution in https://github.com/apache/rocketmq/pull/5515
* @pen4 made their first contribution in https://github.com/apache/rocketmq/pull/5547
* @lybuestc made their first contribution in https://github.com/apache/rocketmq/pull/5764
* @yx9o made their first contribution in https://github.com/apache/rocketmq/pull/5775
* @mahaitao617 made their first contribution in https://github.com/apache/rocketmq/pull/5833
* @frinda made their first contribution in https://github.com/apache/rocketmq/pull/5818
* @RagingSpud made their first contribution in https://github.com/apache/rocketmq/pull/5856
* @socutes made their first contribution in https://github.com/apache/rocketmq/pull/5964
* @hardyfish made their first contribution in https://github.com/apache/rocketmq/pull/5988
* @zzjcool made their first contribution in https://github.com/apache/rocketmq/pull/5944
* @deepsola made their first contribution in https://github.com/apache/rocketmq/pull/6004
* @WSYwsy22 made their first contribution in https://github.com/apache/rocketmq/pull/6075
* @agoodjuice made their first contribution in https://github.com/apache/rocketmq/pull/6067

**Full Changelog**: https://github.com/apache/rocketmq/compare/rocketmq-all-5.0.0...rocketmq-all-5.1.0

<!doctype html>
<html class="docs-version-5.0" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="RocketMQ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="RocketMQ Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="RocketMQ" href="/en/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/en/second-blog/rss.xml" title="RocketMQ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/second-blog/atom.xml" title="RocketMQ Blog Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/en/third-blog/rss.xml" title="RocketMQ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/third-blog/atom.xml" title="RocketMQ Blog Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/en/forth-blog/rss.xml" title="RocketMQ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/forth-blog/atom.xml" title="RocketMQ Blog Atom Feed"><title data-react-helmet="true">Pushæ¶ˆè´¹ | RocketMQ</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/en/docs/5.0/æ¶ˆè´¹è€…/12push"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="5.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-5.0"><meta data-react-helmet="true" property="og:title" content="Pushæ¶ˆè´¹ | RocketMQ"><meta data-react-helmet="true" name="description" content="RocketMQ Pushæ¶ˆè´¹çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹"><meta data-react-helmet="true" property="og:description" content="RocketMQ Pushæ¶ˆè´¹çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹"><link data-react-helmet="true" rel="shortcut icon" href="/en/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/en/docs/5.0/æ¶ˆè´¹è€…/12push"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/5.0/æ¶ˆè´¹è€…/12push" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/en/docs/5.0/æ¶ˆè´¹è€…/12push" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/5.0/æ¶ˆè´¹è€…/12push" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://R2IYF7ETH7-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/en/assets/css/styles.b16dcda5.css">
<link rel="preload" href="/en/assets/js/runtime~main.65d7830d.js" as="script">
<link rel="preload" href="/en/assets/js/main.58acc90c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><img src="/en/img/Apache_RocketMQ_logo.svg.png" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/en/img/Apache_RocketMQ_logo.svg.png" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Apache RocketMQ</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_EbrZ"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/5.0/æ¶ˆè´¹è€…/12push" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">ç®€ä½“ä¸­æ–‡</a></li><li><a href="/en/docs/5.0/æ¶ˆè´¹è€…/12push" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/">4.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/5.0/">5.0</a></li></ul></div><a class="navbar__item navbar__link" href="/en/download">Download</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/blog">User Cases</a></li><li><a class="dropdown__link" href="/en/second-blog">Activity</a></li><li><a class="dropdown__link" href="/en/third-blog">Change Log</a></li><li><a class="dropdown__link" href="/en/forth-blog">RocketMQ News</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/contact">Join Community</a></li><li><a class="dropdown__link" href="/en/team">Contribute</a></li><li><a class="dropdown__link" href="/en/docs/è´¡çŒ®æŒ‡å—/29how-to-contribute">Contribute Instructions</a></li></ul></div><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ğŸŒ</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Producer</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Consumer</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/5.0/æ¶ˆè´¹è€…/11concept2">åŸºç¡€æ¦‚å¿µ</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/5.0/æ¶ˆè´¹è€…/12push">Pushæ¶ˆè´¹</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/5.0/æ¶ˆè´¹è€…/13pull">Pullæ¶ˆè´¹</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deployment</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practice</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Parameter Configuration</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Contribution Guide</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for RocketMQ <b>5.0</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/en/docs/æ¶ˆè´¹è€…/12push">latest version</a></b> (4.x).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 5.0</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Pushæ¶ˆè´¹</h1></header><p>RocketMQ Pushæ¶ˆè´¹çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Consumer</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> throws </span><span class="token maybe-class-name">InterruptedException</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">MQClientException</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// åˆå§‹åŒ–consumerï¼Œå¹¶è®¾ç½®consumer group name</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">DefaultMQPushConsumer</span><span class="token plain"> consumer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">DefaultMQPushConsumer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;please_rename_unique_group_name&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è®¾ç½®NameServeråœ°å€ </span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    consumer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setNamesrvAddr</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;localhost:9876&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªtopicï¼Œå¹¶æŒ‡å®štagè¿‡æ»¤æ¡ä»¶ï¼Œè¿™é‡ŒæŒ‡å®š*è¡¨ç¤ºæ¥æ”¶æ‰€æœ‰tagçš„æ¶ˆæ¯</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    consumer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;TopicTest&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//æ³¨å†Œå›è°ƒæ¥å£æ¥å¤„ç†ä»Brokerä¸­æ”¶åˆ°çš„æ¶ˆæ¯</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    consumer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">registerMessageListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MessageListenerConcurrently</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      @</span><span class="token maybe-class-name">Override</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token maybe-class-name">ConsumeConcurrentlyStatus</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">consumeMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter maybe-class-name">List</span><span class="token parameter operator" style="color:#393A34">&lt;</span><span class="token parameter maybe-class-name">MessageExt</span><span class="token parameter operator" style="color:#393A34">&gt;</span><span class="token parameter"> msgs</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">ConsumeConcurrentlyContext</span><span class="token parameter"> context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%s Receive New Messages: %s %n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Thread</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">currentThread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msgs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// è¿”å›æ¶ˆæ¯æ¶ˆè´¹çŠ¶æ€ï¼ŒConsumeConcurrentlyStatus.CONSUME_SUCCESSä¸ºæ¶ˆè´¹æˆåŠŸ</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">ConsumeConcurrentlyStatus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">CONSUME_SUCCESS</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å¯åŠ¨Consumer</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    consumer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Consumer Started.%n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é¦–å…ˆéœ€è¦åˆå§‹åŒ–æ¶ˆè´¹è€…ï¼Œåˆå§‹åŒ–æ¶ˆè´¹è€…æ—¶ï¼Œå¿…é¡»å¡«å†™ConsumerGroupNameï¼ŒåŒä¸€ä¸ªæ¶ˆè´¹ç»„çš„ConsumerGroupNameæ˜¯ç›¸åŒçš„ï¼Œè¿™æ˜¯åˆ¤æ–­æ¶ˆè´¹è€…æ˜¯å¦å±äºåŒä¸€ä¸ªæ¶ˆè´¹ç»„çš„é‡è¦å±æ€§ã€‚ç„¶åæ˜¯è®¾ç½®NameServeråœ°å€ï¼Œè¿™é‡Œä¸Producerä¸€æ ·ä¸å†ä»‹ç»ã€‚ç„¶åæ˜¯è°ƒç”¨subscribeæ–¹æ³•è®¢é˜…Topicï¼Œsubscribeæ–¹æ³•éœ€è¦æŒ‡å®šéœ€è¦è®¢é˜…çš„Topicåï¼Œä¹Ÿå¯ä»¥å¢åŠ æ¶ˆæ¯è¿‡æ»¤çš„æ¡ä»¶ï¼Œæ¯”å¦‚TagAç­‰ï¼Œä¸Šè¿°ä»£ç ä¸­æŒ‡å®š*è¡¨ç¤ºæ¥æ”¶æ‰€æœ‰tagçš„æ¶ˆæ¯ã€‚é™¤äº†è®¢é˜…ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ³¨å†Œå›è°ƒæ¥å£ç¼–å†™æ¶ˆè´¹é€»è¾‘æ¥å¤„ç†ä»Brokerä¸­æ”¶åˆ°çš„æ¶ˆæ¯ï¼Œè°ƒç”¨registerMessageListeneræ–¹æ³•ï¼Œéœ€è¦ä¼ å…¥MessageListenerçš„å®ç°ï¼Œä¸Šè¿°ä»£ç ä¸­æ˜¯å¹¶å‘æ¶ˆè´¹ï¼Œå› æ­¤æ˜¯MessageListenerConcurrentlyçš„å®ç°ï¼Œå…¶æ¥å£å¦‚ä¸‹</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>MessageListenerConcurrently æ¥å£</h5></div><div class="admonition-content"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/**</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * A MessageListenerConcurrently object is used to receive asynchronously delivered messages concurrently</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">MessageListenerConcurrently</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">MessageListener</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * It is not recommend to throw exception,rather than returning ConsumeConcurrentlyStatus.RECONSUME_LATER if</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * consumption failure</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     *</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @param msgs msgs.size() &gt;= 1&lt;br&gt; DefaultMQPushConsumer.consumeMessageBatchMaxSize=1,you can modify here</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @return The consume status</span></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">ConsumeConcurrentlyStatus</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">consumeMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">final </span><span class="token maybe-class-name">List</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MessageExt</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> msgs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        final </span><span class="token maybe-class-name">ConsumeConcurrentlyContext</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div></div><p>å…¶ä¸­ï¼Œmsgsæ˜¯ä»Brokerç«¯è·å–çš„éœ€è¦è¢«æ¶ˆè´¹æ¶ˆæ¯åˆ—è¡¨ï¼Œç”¨æˆ·å®ç°è¯¥æ¥å£ï¼Œå¹¶æŠŠè‡ªå·±å¯¹æ¶ˆæ¯çš„æ¶ˆè´¹é€»è¾‘å†™åœ¨consumeMessageæ–¹æ³•ä¸­ï¼Œç„¶åè¿”å›æ¶ˆè´¹çŠ¶æ€ï¼ŒConsumeConcurrentlyStatus.CONSUME_SUCCESSè¡¨ç¤ºæ¶ˆè´¹æˆåŠŸï¼Œæˆ–è€…è¡¨ç¤ºRECONSUME_LATERè¡¨ç¤ºæ¶ˆè´¹å¤±è´¥ï¼Œä¸€æ®µæ—¶é—´åå†é‡æ–°æ¶ˆè´¹ã€‚</p><p>å¯ä»¥çœ‹åˆ°RocketMQæä¾›çš„æ¶ˆè´¹è€…APIå´éå¸¸ç®€å•ï¼Œç”¨æˆ·å¹¶ä¸éœ€è¦å…³æ³¨é‡å¹³è¡¡æˆ–è€…æ‹‰å–çš„é€»è¾‘ï¼Œåªéœ€è¦å†™å¥½è‡ªå·±çš„æ¶ˆè´¹é€»è¾‘å³å¯ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="é›†ç¾¤æ¨¡å¼å’Œå¹¿æ’­æ¨¡å¼"></a>é›†ç¾¤æ¨¡å¼å’Œå¹¿æ’­æ¨¡å¼<a class="hash-link" href="#é›†ç¾¤æ¨¡å¼å’Œå¹¿æ’­æ¨¡å¼" title="Direct link to heading">#</a></h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç æ¥è®¾ç½®é‡‡ç”¨é›†ç¾¤æ¨¡å¼ï¼ŒRocketMQ Push Consumeré»˜è®¤ä¸ºé›†ç¾¤æ¨¡å¼ï¼ŒåŒä¸€ä¸ªæ¶ˆè´¹ç»„å†…çš„æ¶ˆè´¹è€…åˆ†æ‹…æ¶ˆè´¹ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.setMessageModel(MessageModel.CLUSTERING);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é€šè¿‡ä»¥ä¸‹ä»£ç æ¥è®¾ç½®é‡‡ç”¨å¹¿æ’­æ¨¡å¼ï¼Œå¹¿æ’­æ¨¡å¼ä¸‹ï¼Œæ¶ˆè´¹ç»„å†…çš„æ¯ä¸€ä¸ªæ¶ˆè´¹è€…éƒ½ä¼šæ¶ˆè´¹å…¨é‡æ¶ˆæ¯ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.setMessageModel(MessageModel.BROADCASTING);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="å¹¶å‘æ¶ˆè´¹å’Œé¡ºåºæ¶ˆè´¹"></a>å¹¶å‘æ¶ˆè´¹å’Œé¡ºåºæ¶ˆè´¹<a class="hash-link" href="#å¹¶å‘æ¶ˆè´¹å’Œé¡ºåºæ¶ˆè´¹" title="Direct link to heading">#</a></h2><p>ä¸Šé¢å·²ç»ä»‹ç»è®¾ç½®Push Consumerå¹¶å‘æ¶ˆè´¹çš„æ–¹æ³•ï¼Œé€šè¿‡åœ¨æ³¨å†Œæ¶ˆè´¹å›è°ƒæ¥å£æ—¶ä¼ å…¥MessageListenerConcurrentlyæ¥å£çš„å®ç°æ¥å®Œæˆã€‚åœ¨å¹¶å‘æ¶ˆè´¹ä¸­ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ¶ˆè´¹ä¸€ä¸ªé˜Ÿåˆ—çš„æ¶ˆæ¯ï¼Œå› æ­¤å³ä½¿å‘é€ç«¯é€šè¿‡å‘é€é¡ºåºæ¶ˆæ¯ä¿è¯æ¶ˆæ¯åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­æŒ‰ç…§FIFOçš„é¡ºåºï¼Œä¹Ÿæ— æ³•ä¿è¯æ¶ˆæ¯å®é™…è¢«é¡ºåºæ¶ˆè´¹ã€‚</p><p>å› æ­¤RocketMQæä¾›äº†é¡ºåºæ¶ˆè´¹çš„æ–¹å¼ï¼Œ é¡ºåºæ¶ˆè´¹è®¾ç½®ä¸å¹¶å‘æ¶ˆè´¹APIå±‚é¢åªæœ‰ä¸€å¤„ä¸åŒï¼Œåœ¨æ³¨å†Œæ¶ˆè´¹å›è°ƒæ¥å£æ—¶ä¼ å…¥MessageListenerOrderlyæ¥å£çš„å®ç°ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">registerMessageListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MessageListenerOrderly</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token maybe-class-name">AtomicLong</span><span class="token plain"> consumeTimes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">AtomicLong</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            @</span><span class="token maybe-class-name">Override</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token maybe-class-name">ConsumeOrderlyStatus</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">consumeMessage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter maybe-class-name">List</span><span class="token parameter operator" style="color:#393A34">&lt;</span><span class="token parameter maybe-class-name">MessageExt</span><span class="token parameter operator" style="color:#393A34">&gt;</span><span class="token parameter"> msgs</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">ConsumeOrderlyContext</span><span class="token parameter"> context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token maybe-class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;%s Receive New Messages: %s %n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Thread</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">currentThread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> msgs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">consumeTimes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">incrementAndGet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">consumeTimes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">ConsumeOrderlyStatus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SUCCESS</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">consumeTimes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setSuspendCurrentQueueTimeMillis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">ConsumeOrderlyStatus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SUSPEND_CURRENT_QUEUE_A_MOMENT</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token maybe-class-name">ConsumeOrderlyStatus</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SUCCESS</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>é¡ºåºæ¶ˆè´¹ä¹Ÿæœ‰ä¸¤ç§è¿”å›ç»“æœï¼ŒConsumeOrderlyStatus.SUCCESSè¡¨ç¤ºæ¶ˆè´¹æˆåŠŸï¼ŒConsumeOrderlyStatus.SUSPEND_CURRENT_QUEUE_A_MOMENTè¡¨ç¤ºæ¶ˆè´¹å¤±è´¥ã€‚</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="æ¶ˆæ¯è¿‡æ»¤"></a>æ¶ˆæ¯è¿‡æ»¤<a class="hash-link" href="#æ¶ˆæ¯è¿‡æ»¤" title="Direct link to heading">#</a></h2><p>æ¶ˆæ¯è¿‡æ»¤æ˜¯æŒ‡æ¶ˆæ¯ç”Ÿäº§è€…å‘Topicä¸­å‘é€æ¶ˆæ¯æ—¶ï¼Œè®¾ç½®æ¶ˆæ¯å±æ€§å¯¹æ¶ˆæ¯è¿›è¡Œåˆ†ç±»ï¼Œæ¶ˆè´¹è€…è®¢é˜…Topicæ—¶ï¼Œæ ¹æ®æ¶ˆæ¯å±æ€§è®¾ç½®è¿‡æ»¤æ¡ä»¶å¯¹æ¶ˆæ¯è¿›è¡Œè¿‡æ»¤ï¼Œåªæœ‰ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ¶ˆæ¯æ‰ä¼šè¢«æŠ•é€’åˆ°æ¶ˆè´¹ç«¯è¿›è¡Œæ¶ˆè´¹ã€‚</p><p>æ¶ˆè´¹è€…è®¢é˜…Topicæ—¶è‹¥æœªè®¾ç½®è¿‡æ»¤æ¡ä»¶ï¼Œæ— è®ºæ¶ˆæ¯å‘é€æ—¶æ˜¯å¦æœ‰è®¾ç½®è¿‡æ»¤å±æ€§ï¼ŒTopicä¸­çš„æ‰€æœ‰æ¶ˆæ¯éƒ½å°†è¢«æŠ•é€’åˆ°æ¶ˆè´¹ç«¯è¿›è¡Œæ¶ˆè´¹ã€‚</p><p>RocketMQæ”¯æŒçš„æ¶ˆæ¯è¿‡æ»¤æ–¹å¼æœ‰ä¸¤ç§ï¼ŒTagè¿‡æ»¤å’ŒSQL92è¿‡æ»¤ã€‚</p><table><thead><tr><th>è¿‡æ»¤æ–¹å¼</th><th>è¯´æ˜</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td>Tagè¿‡æ»¤</td><td>æ¶ˆè´¹è€…è®¢é˜…çš„Tagå’Œå‘é€è€…è®¾ç½®çš„æ¶ˆæ¯Tagç›¸äº’åŒ¹é…ï¼Œåˆ™æ¶ˆæ¯è¢«æŠ•é€’ç»™æ¶ˆè´¹ç«¯è¿›è¡Œæ¶ˆè´¹ã€‚</td><td>ç®€å•è¿‡æ»¤åœºæ™¯ã€‚ä¸€æ¡æ¶ˆæ¯æ”¯æŒè®¾ç½®ä¸€ä¸ªTagï¼Œä»…éœ€è¦å¯¹Topicä¸­çš„æ¶ˆæ¯è¿›è¡Œä¸€çº§åˆ†ç±»å¹¶è¿‡æ»¤æ—¶å¯ä»¥ä½¿ç”¨æ­¤æ–¹å¼ã€‚</td></tr><tr><td>SQL92è¿‡æ»¤</td><td>å‘é€è€…è®¾ç½®Tagæˆ–æ¶ˆæ¯å±æ€§ï¼Œæ¶ˆè´¹è€…è®¢é˜…æ»¡è¶³SQL92è¿‡æ»¤è¡¨è¾¾å¼çš„æ¶ˆæ¯è¢«æŠ•é€’ç»™æ¶ˆè´¹ç«¯è¿›è¡Œæ¶ˆè´¹ã€‚</td><td>å¤æ‚è¿‡æ»¤åœºæ™¯ã€‚ä¸€æ¡æ¶ˆæ¯æ”¯æŒè®¾ç½®å¤šä¸ªå±æ€§ï¼Œå¯æ ¹æ®SQLè¯­æ³•è‡ªå®šä¹‰ç»„åˆå¤šç§ç±»å‹çš„è¡¨è¾¾å¼å¯¹æ¶ˆæ¯è¿›è¡Œå¤šçº§åˆ†ç±»å¹¶å®ç°å¤šç»´åº¦çš„è¿‡æ»¤ã€‚</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="tagè¿‡æ»¤"></a>Tagè¿‡æ»¤<a class="hash-link" href="#tagè¿‡æ»¤" title="Direct link to heading">#</a></h3><p>Tagåœ¨ç”Ÿäº§è€…ç« èŠ‚å·²ç»ä»‹ç»è¿‡ï¼Œç”¨äºå¯¹æŸä¸ªTopicä¸‹çš„æ¶ˆæ¯è¿›è¡Œåˆ†ç±»ã€‚ç”Ÿäº§è€…åœ¨å‘é€æ¶ˆæ¯æ—¶ï¼ŒæŒ‡å®šæ¶ˆæ¯çš„Tagï¼Œæ¶ˆè´¹è€…éœ€æ ¹æ®å·²ç»æŒ‡å®šçš„Tagæ¥è¿›è¡Œè®¢é˜…ã€‚</p><p>ä»¥ä¸‹å›¾ç”µå•†äº¤æ˜“åœºæ™¯ä¸ºä¾‹ï¼Œä»å®¢æˆ·ä¸‹å•åˆ°æ”¶åˆ°å•†å“è¿™ä¸€è¿‡ç¨‹ä¼šç”Ÿäº§ä¸€ç³»åˆ—æ¶ˆæ¯ï¼Œä»¥å¦‚ä¸‹æ¶ˆæ¯ä¸ºä¾‹ï¼š</p><ul><li>è®¢å•æ¶ˆæ¯</li><li>æ”¯ä»˜æ¶ˆæ¯</li><li>ç‰©æµæ¶ˆæ¯</li></ul><p>è¿™äº›æ¶ˆæ¯ä¼šå‘é€åˆ°åç§°ä¸ºTrade_Topicçš„Topicä¸­ï¼Œè¢«å„ä¸ªä¸åŒçš„ç³»ç»Ÿæ‰€è®¢é˜…ï¼Œä»¥å¦‚ä¸‹ç³»ç»Ÿä¸ºä¾‹ï¼š</p><ul><li>æ”¯ä»˜ç³»ç»Ÿï¼šåªéœ€è®¢é˜…æ”¯ä»˜æ¶ˆæ¯ã€‚</li><li>ç‰©æµç³»ç»Ÿï¼šåªéœ€è®¢é˜…ç‰©æµæ¶ˆæ¯ã€‚</li><li>å®æ—¶è®¡ç®—ç³»ç»Ÿï¼šéœ€è¦è®¢é˜…æ‰€æœ‰å’Œäº¤æ˜“ç›¸å…³çš„æ¶ˆæ¯ã€‚</li><li>äº¤æ˜“æˆåŠŸç‡åˆ†æç³»ç»Ÿï¼šéœ€è®¢é˜…è®¢å•å’Œæ”¯ä»˜æ¶ˆæ¯ã€‚</li></ul><p>è¿‡æ»¤ç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤º</p><p><img alt="Tagè¿‡æ»¤" src="/en/assets/images/Tagè¿‡æ»¤-844cfe6dd033746c7134bde843021ad6.png"></p><p>å¯¹äºç‰©æµç³»ç»Ÿå’Œæ”¯ä»˜ç³»ç»Ÿæ¥è¯´ï¼Œå®ƒä»¬éƒ½åªè®¢é˜…ä½†ä¸ªTagï¼Œæ­¤æ—¶åªéœ€è¦åœ¨è°ƒç”¨subcribeæ¥å£æ—¶æ˜ç¡®æ ‡æ˜Tagå³å¯ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.subscribe(&quot;TagFilterTest&quot;, &quot;TagA&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¯¹äºå®æ—¶è®¡ç®—ç³»ç»Ÿæ¥è¯´ï¼Œå®ƒè®¢é˜…äº¤æ˜“Topicä¸‹æ‰€æœ‰çš„æ¶ˆæ¯ï¼ŒTagç”¨æ˜Ÿå·ï¼ˆ*ï¼‰è¡¨ç¤ºå³å¯ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.subscribe(&quot;TagFilterTest&quot;, &quot;*&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¯¹äºäº¤æ˜“æˆåŠŸç‡åˆ†æç³»ç»Ÿæ¥è¯´ï¼Œå®ƒè®¢é˜…äº†è®¢å•å’Œæ”¯ä»˜ä¸¤ä¸ªTagçš„æ¶ˆæ¯ï¼Œåœ¨å¤šä¸ªTagä¹‹é—´ç”¨ä¸¤ä¸ªç«–çº¿ï¼ˆ||ï¼‰åˆ†éš”å³å¯ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.subscribe(&quot;TagFilterTest&quot;, &quot;TagA||TagB&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåŒä¸€ä¸ªæ¶ˆè´¹è€…å¤šæ¬¡è®¢é˜…æŸä¸ªTopicä¸‹çš„Tagï¼Œä»¥æœ€åä¸€æ¬¡è®¢é˜…ä¸ºå‡†ã€‚</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">//å¦‚ä¸‹é”™è¯¯ä»£ç ä¸­ï¼ŒConsumeråªèƒ½è®¢é˜…åˆ°TagFilterTestä¸‹TagBçš„æ¶ˆæ¯ï¼Œè€Œä¸èƒ½è®¢é˜…TagAçš„æ¶ˆæ¯ã€‚</span></span><span class="token-line" style="color:#393A34"><span class="token plain">consumer.subscribe(&quot;TagFilterTest&quot;, &quot;TagA&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">consumer.subscribe(&quot;TagFilterTest&quot;, &quot;TagB&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="sql92è¿‡æ»¤"></a>SQL92è¿‡æ»¤<a class="hash-link" href="#sql92è¿‡æ»¤" title="Direct link to heading">#</a></h3><p>SQL92è¿‡æ»¤æ˜¯åœ¨æ¶ˆæ¯å‘é€æ—¶è®¾ç½®æ¶ˆæ¯çš„Tagæˆ–è‡ªå®šä¹‰å±æ€§ï¼Œæ¶ˆè´¹è€…è®¢é˜…æ—¶ä½¿ç”¨SQLè¯­æ³•è®¾ç½®è¿‡æ»¤è¡¨è¾¾å¼ï¼Œæ ¹æ®è‡ªå®šä¹‰å±æ€§æˆ–Tagè¿‡æ»¤æ¶ˆæ¯ã€‚</p><blockquote><p>Tagå±äºä¸€ç§ç‰¹æ®Šçš„æ¶ˆæ¯å±æ€§ï¼Œåœ¨SQLè¯­æ³•ä¸­ï¼ŒTagçš„å±æ€§å€¼ä¸ºTAGSã€‚
å¼€å¯å±æ€§è¿‡æ»¤é¦–å…ˆè¦åœ¨Brokerç«¯è®¾ç½®é…ç½®enablePropertyFilter=trueï¼Œè¯¥å€¼é»˜è®¤ä¸ºfalseã€‚</p></blockquote><p>ä»¥ä¸‹å›¾ç”µå•†äº¤æ˜“åœºæ™¯ä¸ºä¾‹ï¼Œä»å®¢æˆ·ä¸‹å•åˆ°æ”¶åˆ°å•†å“è¿™ä¸€è¿‡ç¨‹ä¼šç”Ÿäº§ä¸€ç³»åˆ—æ¶ˆæ¯ï¼ŒæŒ‰ç…§ç±»å‹å°†æ¶ˆæ¯åˆ†ä¸ºè®¢å•æ¶ˆæ¯å’Œç‰©æµæ¶ˆæ¯ï¼Œå…¶ä¸­ç»™ç‰©æµæ¶ˆæ¯å®šä¹‰åœ°åŸŸå±æ€§ï¼ŒæŒ‰ç…§åœ°åŸŸåˆ†ä¸ºæ­å·å’Œä¸Šæµ·ï¼š</p><ul><li>è®¢å•æ¶ˆæ¯</li><li>ç‰©æµæ¶ˆæ¯<ul><li>ç‰©æµæ¶ˆæ¯ä¸”åœ°åŸŸä¸ºæ­å·</li><li>ç‰©æµæ¶ˆæ¯ä¸”åœ°åŸŸä¸ºä¸Šæµ·</li></ul></li></ul><p>è¿™äº›æ¶ˆæ¯ä¼šå‘é€åˆ°åç§°ä¸ºTrade_Topicçš„Topicä¸­ï¼Œè¢«å„ä¸ªä¸åŒçš„ç³»ç»Ÿæ‰€è®¢é˜…ï¼Œä»¥å¦‚ä¸‹ç³»ç»Ÿä¸ºä¾‹ï¼š</p><ul><li>ç‰©æµç³»ç»Ÿ1ï¼šåªéœ€è®¢é˜…ç‰©æµæ¶ˆæ¯ä¸”æ¶ˆæ¯åœ°åŸŸä¸ºæ­å·ã€‚</li><li>ç‰©æµç³»ç»Ÿ2ï¼šåªéœ€è®¢é˜…ç‰©æµæ¶ˆæ¯ä¸”æ¶ˆæ¯åœ°åŸŸä¸ºæ­å·æˆ–ä¸Šæµ·ã€‚</li><li>è®¢å•è·Ÿè¸ªç³»ç»Ÿï¼šåªéœ€è®¢é˜…è®¢å•æ¶ˆæ¯ã€‚</li></ul><p>SQL92è¿‡æ»¤ç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img alt="SQL92è¿‡æ»¤" src="/en/assets/images/SQL92è¿‡æ»¤-716732acb1aad27fc8e7a9e218ebaa65.png"></p><p>åœ°åŸŸå°†ä½œä¸ºè‡ªå®šä¹‰å±æ€§è®¾ç½®åœ¨æ¶ˆæ¯ä¸­ã€‚</p><ul><li>æ¶ˆæ¯å‘é€ç«¯ï¼š
è®¾ç½®æ¶ˆæ¯çš„è‡ªå®šä¹‰å±æ€§ã€‚</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">Message msg = new Message(&quot;topic&quot;, &quot;tagA&quot;, &quot;Hello MQ&quot;.getBytes());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// è®¾ç½®è‡ªå®šä¹‰å±æ€§Aï¼Œå±æ€§å€¼ä¸º1ã€‚</span></span><span class="token-line" style="color:#393A34"><span class="token plain">msg.putUserProperties(&quot;a&quot;, &quot;1&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ¶ˆæ¯æ¶ˆè´¹ç«¯ï¼š
ä½¿ç”¨SQLè¯­æ³•è®¾ç½®è¿‡æ»¤è¡¨è¾¾å¼ï¼Œå¹¶æ ¹æ®è‡ªå®šä¹‰å±æ€§è¿‡æ»¤æ¶ˆæ¯ã€‚</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.subscribe(&quot;SqlFilterTest&quot;,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    MessageSelector.bySql(&quot;(TAGS is not null and TAGS in (&#x27;TagA&#x27;, &#x27;TagB&#x27;))&quot; +</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;and (a is not null and a between 0 and 3)&quot;));</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="æ¶ˆæ¯é‡è¯•å’Œæ­»ä¿¡é˜Ÿåˆ—"></a>æ¶ˆæ¯é‡è¯•å’Œæ­»ä¿¡é˜Ÿåˆ—<a class="hash-link" href="#æ¶ˆæ¯é‡è¯•å’Œæ­»ä¿¡é˜Ÿåˆ—" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="æ¶ˆæ¯é‡è¯•"></a>æ¶ˆæ¯é‡è¯•<a class="hash-link" href="#æ¶ˆæ¯é‡è¯•" title="Direct link to heading">#</a></h3><p>è‹¥Consumeræ¶ˆè´¹æŸæ¡æ¶ˆæ¯å¤±è´¥ï¼Œåˆ™RockettMQä¼šåœ¨é‡è¯•é—´éš”æ—¶é—´åï¼Œå°†æ¶ˆæ¯é‡æ–°æŠ•é€’ç»™Consumeræ¶ˆè´¹ï¼Œè‹¥è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°åæ¶ˆæ¯è¿˜æ²¡æœ‰æˆåŠŸè¢«æ¶ˆè´¹ï¼Œåˆ™æ¶ˆæ¯å°†è¢«æŠ•é€’è‡³æ­»ä¿¡é˜Ÿåˆ—</p><blockquote><p>æ¶ˆæ¯é‡è¯•åªé’ˆå¯¹é›†ç¾¤æ¶ˆè´¹æ¨¡å¼ç”Ÿæ•ˆï¼›å¹¿æ’­æ¶ˆè´¹æ¨¡å¼ä¸æä¾›å¤±è´¥é‡è¯•ç‰¹æ€§ï¼Œå³æ¶ˆè´¹å¤±è´¥åï¼Œå¤±è´¥æ¶ˆæ¯ä¸å†é‡è¯•ï¼Œç»§ç»­æ¶ˆè´¹æ–°çš„æ¶ˆæ¯</p><ul><li>æœ€å¤§é‡è¯•æ¬¡æ•°ï¼šæ¶ˆæ¯æ¶ˆè´¹å¤±è´¥åï¼Œå¯è¢«é‡å¤æŠ•é€’çš„æœ€å¤§æ¬¡æ•°ã€‚</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.setMaxReconsumeTimes(10);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>é‡è¯•é—´éš”ï¼šæ¶ˆæ¯æ¶ˆè´¹å¤±è´¥åå†æ¬¡è¢«æŠ•é€’ç»™Consumeræ¶ˆè´¹çš„é—´éš”æ—¶é—´ï¼Œåªåœ¨é¡ºåºæ¶ˆè´¹ä¸­èµ·ä½œç”¨ã€‚</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><pre tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">consumer.setSuspendCurrentQueueTimeMillis(5000);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></blockquote><p>é¡ºåºæ¶ˆè´¹å’Œå¹¶å‘æ¶ˆè´¹çš„é‡è¯•æœºåˆ¶å¹¶ä¸ç›¸åŒï¼Œé¡ºåºæ¶ˆè´¹æ¶ˆè´¹å¤±è´¥åæ˜¯å…ˆåœ¨å®¢æˆ·ç«¯æœ¬åœ°é‡è¯•ï¼Œå¹¶ä¸”ä¸ºäº†ä¿è¯é¡ºåºæ€§æ¶ˆè´¹å¤±è´¥çš„æ¶ˆæ¯ä¸ä¼šè¢«è·³è¿‡å…ˆå»æ¶ˆè´¹ä¸‹ä¸€æ¡è€Œæ˜¯ä¸€ç›´é‡è¯•åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œè€Œå¹¶å‘æ¶ˆè´¹æ¶ˆè´¹å¤±è´¥åä¼šå°†æ¶ˆè´¹å¤±è´¥çš„æ¶ˆæ¯é‡æ–°æŠ•é€’å›æœåŠ¡ç«¯ï¼Œå†ç­‰å¾…æœåŠ¡ç«¯é‡æ–°æŠ•é€’å›æ¥ï¼Œåœ¨è¿™æœŸé—´ä¼šæ­£å¸¸æ¶ˆè´¹é˜Ÿåˆ—åé¢çš„æ¶ˆæ¯ã€‚</p><blockquote><p>å¹¶å‘æ¶ˆè´¹å¤±è´¥åå¹¶ä¸æ˜¯æŠ•é€’å›åŸTopicï¼Œè€Œæ˜¯æŠ•é€’åˆ°ä¸€ä¸ªç‰¹æ®ŠTopicï¼Œå…¶å‘½åä¸º%RETRY%ConsumerGroupNameï¼Œé›†ç¾¤æ¨¡å¼ä¸‹å¹¶å‘æ¶ˆè´¹æ¯ä¸€ä¸ªConsumerGroupä¼šå¯¹åº”ä¸€ä¸ªç‰¹æ®ŠTopicï¼Œå¹¶ä¼šè®¢é˜…è¯¥Topicã€‚
ä¸¤è€…å‚æ•°å·®åˆ«å¦‚ä¸‹</p></blockquote><table><thead><tr><th>æ¶ˆè´¹ç±»å‹</th><th>é‡è¯•é—´éš”</th><th>æœ€å¤§é‡è¯•æ¬¡æ•°</th></tr></thead><tbody><tr><td>é¡ºåºæ¶ˆè´¹</td><td>é—´éš”æ—¶é—´å¯é€šè¿‡è‡ªå®šä¹‰è®¾ç½®ï¼ŒSuspendCurrentQueueTimeMillis</td><td>æœ€å¤§é‡è¯•æ¬¡æ•°å¯é€šè¿‡è‡ªå®šä¹‰å‚æ•°MaxReconsumeTimeså–å€¼è¿›è¡Œé…ç½®ã€‚è¯¥å‚æ•°å–å€¼æ— æœ€å¤§é™åˆ¶ã€‚è‹¥æœªè®¾ç½®å‚æ•°å€¼ï¼Œé»˜è®¤æœ€å¤§é‡è¯•æ¬¡æ•°ä¸ºInteger.MAX</td></tr><tr><td>å¹¶å‘æ¶ˆè´¹</td><td>é—´éš”æ—¶é—´æ ¹æ®é‡è¯•æ¬¡æ•°é˜¶æ¢¯å˜åŒ–ï¼Œå–å€¼èŒƒå›´ï¼š1ç§’ï½2å°æ—¶ã€‚ä¸æ”¯æŒè‡ªå®šä¹‰é…ç½®</td><td>æœ€å¤§é‡è¯•æ¬¡æ•°å¯é€šè¿‡è‡ªå®šä¹‰å‚æ•°MaxReconsumeTimeså–å€¼è¿›è¡Œé…ç½®ã€‚é»˜è®¤å€¼ä¸º16æ¬¡ï¼Œè¯¥å‚æ•°å–å€¼æ— æœ€å¤§é™åˆ¶ï¼Œå»ºè®®ä½¿ç”¨é»˜è®¤å€¼</td></tr></tbody></table><p>å¹¶å‘æ¶ˆè´¹é‡è¯•é—´éš”å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸å»¶è¿Ÿæ¶ˆæ¯ç¬¬ä¸‰ä¸ªç­‰çº§å¼€å§‹çš„æ—¶é—´å®Œå…¨ä¸€è‡´ã€‚</p><table><thead><tr><th>ç¬¬å‡ æ¬¡é‡è¯•</th><th>ä¸ä¸Šæ¬¡é‡è¯•çš„é—´éš”æ—¶é—´</th><th>ç¬¬å‡ æ¬¡é‡è¯•</th><th>ä¸ä¸Šæ¬¡é‡è¯•çš„é—´éš”æ—¶é—´</th></tr></thead><tbody><tr><td>1</td><td>10s</td><td>9</td><td>7min</td></tr><tr><td>2</td><td>30s</td><td>10</td><td>8min</td></tr><tr><td>3</td><td>1min</td><td>11</td><td>9min</td></tr><tr><td>4</td><td>2min</td><td>12</td><td>10min</td></tr><tr><td>5</td><td>3min</td><td>13</td><td>20min</td></tr><tr><td>6</td><td>4min</td><td>14</td><td>30min</td></tr><tr><td>7</td><td>5min</td><td>15</td><td>1h</td></tr><tr><td>8</td><td>6min</td><td>16</td><td>2h</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_y2LR" id="æ­»ä¿¡é˜Ÿåˆ—"></a>æ­»ä¿¡é˜Ÿåˆ—<a class="hash-link" href="#æ­»ä¿¡é˜Ÿåˆ—" title="Direct link to heading">#</a></h3><p>å½“ä¸€æ¡æ¶ˆæ¯åˆæ¬¡æ¶ˆè´¹å¤±è´¥ï¼ŒRocketMQä¼šè‡ªåŠ¨è¿›è¡Œæ¶ˆæ¯é‡è¯•ï¼Œè¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°åï¼Œè‹¥æ¶ˆè´¹ä¾ç„¶å¤±è´¥ï¼Œåˆ™è¡¨æ˜æ¶ˆè´¹è€…åœ¨æ­£å¸¸æƒ…å†µä¸‹æ— æ³•æ­£ç¡®åœ°æ¶ˆè´¹è¯¥æ¶ˆæ¯ã€‚æ­¤æ—¶ï¼Œè¯¥æ¶ˆæ¯ä¸ä¼šç«‹åˆ»è¢«ä¸¢å¼ƒï¼Œè€Œæ˜¯å°†å…¶å‘é€åˆ°è¯¥æ¶ˆè´¹è€…å¯¹åº”çš„ç‰¹æ®Šé˜Ÿåˆ—ä¸­ï¼Œè¿™ç±»æ¶ˆæ¯ç§°ä¸ºæ­»ä¿¡æ¶ˆæ¯ï¼ˆDead-Letter Messageï¼‰ï¼Œå­˜å‚¨æ­»ä¿¡æ¶ˆæ¯çš„ç‰¹æ®Šé˜Ÿåˆ—ç§°ä¸ºæ­»ä¿¡é˜Ÿåˆ—ï¼ˆDead-Letter Queueï¼‰ï¼Œæ­»ä¿¡é˜Ÿåˆ—æ˜¯æ­»ä¿¡Topicä¸‹åˆ†åŒºæ•°ä¸ºä¸€çš„å•ç‹¬é˜Ÿåˆ—ã€‚å¦‚æœäº§ç”Ÿäº†æ­»ä¿¡æ¶ˆæ¯ï¼Œé‚£å¯¹åº”çš„ConsumerGroupçš„æ­»ä¿¡Topicåç§°ä¸º%DLQ%ConsumerGroupNameï¼Œæ­»ä¿¡é˜Ÿåˆ—çš„æ¶ˆæ¯å°†ä¸ä¼šå†è¢«æ¶ˆè´¹ã€‚å¯ä»¥åˆ©ç”¨RocketMQ Adminå·¥å…·æˆ–è€…RocketMQ Dashboardä¸ŠæŸ¥è¯¢åˆ°å¯¹åº”æ­»ä¿¡æ¶ˆæ¯çš„ä¿¡æ¯ã€‚</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apache/rocketmq-site/tree/new-official-website/versioned_docs/version-5.0/03-æ¶ˆè´¹è€…/12push.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/en/docs/5.0/æ¶ˆè´¹è€…/11concept2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« åŸºç¡€æ¦‚å¿µ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/en/docs/5.0/æ¶ˆè´¹è€…/13pull"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Pullæ¶ˆè´¹ Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#é›†ç¾¤æ¨¡å¼å’Œå¹¿æ’­æ¨¡å¼" class="table-of-contents__link">é›†ç¾¤æ¨¡å¼å’Œå¹¿æ’­æ¨¡å¼</a></li><li><a href="#å¹¶å‘æ¶ˆè´¹å’Œé¡ºåºæ¶ˆè´¹" class="table-of-contents__link">å¹¶å‘æ¶ˆè´¹å’Œé¡ºåºæ¶ˆè´¹</a></li><li><a href="#æ¶ˆæ¯è¿‡æ»¤" class="table-of-contents__link">æ¶ˆæ¯è¿‡æ»¤</a><ul><li><a href="#tagè¿‡æ»¤" class="table-of-contents__link">Tagè¿‡æ»¤</a></li><li><a href="#sql92è¿‡æ»¤" class="table-of-contents__link">SQL92è¿‡æ»¤</a></li></ul></li><li><a href="#æ¶ˆæ¯é‡è¯•å’Œæ­»ä¿¡é˜Ÿåˆ—" class="table-of-contents__link">æ¶ˆæ¯é‡è¯•å’Œæ­»ä¿¡é˜Ÿåˆ—</a><ul><li><a href="#æ¶ˆæ¯é‡è¯•" class="table-of-contents__link">æ¶ˆæ¯é‡è¯•</a></li><li><a href="#æ­»ä¿¡é˜Ÿåˆ—" class="table-of-contents__link">æ­»ä¿¡é˜Ÿåˆ—</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/en/docs/ä»‹ç»/03whatis">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/en/docs/ä»‹ç»/02quickstart">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/en/version">Migration from 4.x to 5.0</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/ApacheRocketMQ" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/apache/rocketmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://github.com/apache/rocketmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/en/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/en/third-blog">Changelog</a></li><li class="footer__item"><a href="https://github.com/apache/rocketmq" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Licenses<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Security<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Thanks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://rocketmq.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="/en/img/Apache_RocketMQ_logo.svg.png" alt="Meta Open Source Logo" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/en/img/Apache_RocketMQ_logo.svg.png" alt="Meta Open Source Logo" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 The Apache Software Foundation. Licensed under the Apache License, Version 2.0.</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.65d7830d.js"></script>
<script src="/en/assets/js/main.58acc90c.js"></script>
</body>
</html>